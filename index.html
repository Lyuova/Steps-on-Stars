<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steps on Stars</title>
    <link rel="icon" type="image/png" href="https://i.postimg.cc/Bv2h6BfN/Bez-nazvania617-20260219174018.png">
   <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css'>
    <style>
        /* --- СТИЛИ (Дизайн) --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
            background-color: #0f172a;
            color: #e2e8f0;
        }
        h1 { color: #38bdf8; text-align: center; margin-bottom: 0.5rem; }
        p { text-align: center; color: #94a3b8; margin-top: 0; margin-bottom: 1.5rem; }
        .card {
            background-color: #1e293b;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            border: none;
        }
        .input-group { margin-bottom: 1rem; }
        label { display: block; margin-bottom: 0.4rem; font-size: 0.9rem; color: #cbd5e1; }
        input {
            width: 100%; padding: 0.8rem; box-sizing: border-box;
            background-color: #0f172a; border: none;
            border-radius: 6px; color: #fff; font-size: 1rem; outline: none;
        }
        input:focus { border-color: #38bdf8; }
        .action-buttons { display: flex; justify-content: center; margin: 1.5rem 0; }
        .icon-btn {
            background: #334155; color: #38bdf8; border: 1px solid #475569;
            width: 50px; height: 50px; border-radius: 50%; cursor: pointer;
            font-size: 1.5rem; display: flex; align-items: center; justify-content: center;
        }
        .icon-btn:hover { background: #475569; }
        .main-btn {
            width: 100%; padding: 1rem; background: linear-gradient(135deg, #0ea5e9 0%, #2563eb 100%);
            color: white; border: none; border-radius: 6px; font-size: 1.1rem;
            font-weight: bold; cursor: pointer;
        }
        .main-btn:hover { opacity: 0.9; }
        #result { margin-top: 2rem; display: flex; flex-direction: column; gap: 20px; }
        .step-container {
            background: #1C273A; border: none; border-radius: 8px;
            padding: 15px; display: flex; flex-direction: column; align-items: center;
        }
        .step-title { color: #38bdf8; font-weight: bold; margin-bottom: 10px; font-size: 1.1rem; }
        .steppe-grid {
            display: grid; grid-template-columns: repeat(10, 20px);
            grid-template-rows: repeat(6, 30px); gap: 4px;
        }
        .cell {
            width: 20px; height: 30px; border-radius: 3px;
            background-color: #324154;
        }
            #result {
            margin-top: 2rem;
            display: flex;              /* Колонка */
            flex-direction: column;
            align-items: center;        /* По центру */
            gap: 20px;
            background-color: #0f172a;
            padding: 20px;
            border-radius: 12px;
        }

        /* 3. Вид для КАРТИНКИ (Сетка в 2 колонки) */
        #result.export-mode {
            display: grid !important;
            grid-template-columns: 1fr 1fr; /* Две колонки */
            width: fit-content;             /* Ширина по содержимому */
            margin: 0 auto;                 /* Центрирование */
            align-items: start;
        }
        #result.export-mode .step-container {
            /* Первое число - отступ СНИЗУ (между рядами) */
            margin-bottom: 45px !important; 
            
            /* Второе число - отступы ПО БОКАМ (между столбцами будет сумма, т.е. 20+20=40) */
            margin-left: 10px !important;
            margin-right: 10px !important;
        }
        
        /* Стрелочки скрываем всегда, чтобы не мешали */
        .arrow-down { display: none; }
        .cell.exit { background-color: #0F172A; border: none; }
        .cell.active-path {
            background-color: #4ACA86 !important; box-shadow: 0 0 5px #4ade80;
            opacity: 1; border: none;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
        .arrow-down { color: #94a3b8; font-size: 1.5rem; margin: 5px 0; }
        .copy-btn { margin-top: 20px; padding: 10px; background: #334155; color: #fff; border: none; border-radius: 5px; cursor: pointer; width: 100%; }
        .error { color: #f87171; text-align: center; }

                            /* --- РИСОВАЛКА СТЕПИ --- */
        .drawer-toggle { margin-top: 1rem; background: #1e293b; border: 1px solid #334155; color: #cbd5e1; padding: 0.8rem; width: 100%; border-radius: 6px; cursor: pointer; transition: background 0.3s; font-size: 1rem; }
        .drawer-toggle:hover { background: #334155; color: #fff; }
        .drawer-container { display: none; background-color: #1e293b; padding: 1.5rem; border-radius: 12px; margin-top: 1rem; border: 1px solid #334155; flex-direction: column; align-items: center; }
        .drawer-grid { display: grid; grid-template-columns: repeat(10, 20px); grid-template-rows: repeat(6, 30px); gap: 4px; margin-bottom: 1rem; background: #0f172a; padding: 10px; border-radius: 8px; }
        .drawer-cell { width: 20px; height: 30px; border-radius: 3px; background-color: #324154; cursor: pointer; transition: background 0.2s; }
        .drawer-cell:hover { opacity: 0.8; box-shadow: inset 0 0 0 1px #4ACA86; }
        .drawer-cell.active { background-color: #0F172A; }
        .drawer-result { margin-bottom: 1rem; font-weight: bold; color: #4ACA86; min-height: 1.5rem; text-align: center; }
        .drawer-actions { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .drawer-btn { background: #334155; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; display: none; font-size: 0.9rem; }
        .drawer-btn:hover { background: #475569; }

        /* --- ПОДВАЛ САЙТА (FOOTER) --- */
        .site-footer { margin-top: 4rem; padding: 2rem 1rem; text-align: center; color: #64748b; font-size: 0.75rem; line-height: 1.6; border-top: 1px dashed #334155; }
        .site-footer a { color: #38bdf8; text-decoration: none; transition: color 0.2s; }
        .site-footer a:hover { color: #7dd3fc; text-decoration: underline; }
        .site-footer b { color: #94a3b8; }

                /* --- ЧЕКБОКС "ДВА РЯДА" --- */
        .two-cols-wrapper {
            margin-top: 15px;
            margin-bottom: 5px;
            text-align: center;
            color: #cbd5e1;
            font-size: 0.95rem;
        }
        
        /* Делаем сам квадратик чекбокса аккуратным */
        .two-cols-wrapper input[type="checkbox"] {
            width: auto;
            padding: 0;
            margin-right: 8px;
            transform: scale(1.2);
            cursor: pointer;
        }

        /* Визуальная сетка для сайта (без огромных отступов, как на картинке) */
        #result.two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: fit-content;
            margin: 0 auto;
        }

                /* Отступы для степей при включенной галочке (как при экспорте) */
        #result.two-columns .step-container {
            margin-bottom: 45px !important; 
            margin-left: 10px !important;
            margin-right: 10px !important;
        }


        /* ПРЯЧЕМ ЧЕКБОКС НА ТЕЛЕФОНАХ (экраны уже 768px) */
        @media (max-width: 768px) {
            .two-cols-wrapper {
                display: none !important;
            }
            /* На мобилках всегда отключаем 2 ряда, даже если настройка сохранилась */
            #result.two-columns {
                display: flex; 
            }
        }
        #result:empty {
            display: none;
        }

                /* --- ВКЛАДКИ (Рисовать / Показать) --- */
        .tabs-row { display: flex; gap: 10px; margin-top: 1rem; }
        .tabs-row .drawer-toggle { margin-top: 0; flex: 1; }
        .inline-show-btn { background: #334155; color: #38bdf8; border: 1px solid #475569; border-radius: 4px; padding: 0 10px; cursor: pointer; font-size: 0.8rem; transition: background 0.2s; white-space: nowrap; }
        .inline-show-btn:hover { background: #475569; color: #fff; }
        
        /* Внешний вид для полей ввода со встроенной кнопкой */
        .input-group .input-wrapper { display: flex; gap: 8px; }

        /* --- ПЛАВАЮЩИЕ СТРЕЛКИ --- */
        .floating-arrows { position: fixed; bottom: 30px; right: 30px; display: flex; flex-direction: column; gap: 10px; z-index: 1000; }
        .scroll-btn { width: 40px; height: 40px; border-radius: 50%; background: #1e293b; border: 1px solid #475569; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.3s; opacity: 0.7; }
        .scroll-btn:hover { opacity: 1; background: #334155; transform: scale(1.1); }
        .scroll-btn i { 
            font-size: 1.5rem; 
            /* Тот самый фильтр: инверсия, 0 насыщенности и яркость на максимум, чтобы стал белым */
            filter: invert(1) grayscale(1) brightness(2); 
        }
                /* Размер главного заголовка */
        h1 {
            font-size: 1.5rem !important; /* Меняй цифру 1.5, чтобы сделать больше или меньше */
            margin-bottom: 5px; /* Заодно можно немного уменьшить отступ снизу */
        }
        /* --- ПОДСВЕТКА КЛЮЧЕВЫХ СТЕПЕЙ --- */
        .highlight-target {
            border: 2px solid #4ade80 !important; /* Зеленая обводка */
            box-shadow: 0 0 10px rgba(74, 222, 128, 0.2); /* Легкое зеленое свечение */
        }

    </style>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>

<div class="card">
    <h1>Steps on Stars: генератор маршрутов</h1>
    <p>Введите номера степей от 1 до 100.</p>
   <div class="input-group">
        <label>Начальная степь:</label>
        <div class="input-wrapper">
            <input type="text" id="startNode" placeholder="1">
            <button class="inline-show-btn" onclick="openViewerWithId('startNode')">Показать</button>
        </div>
   </div>
    <div id="waypointsContainer" style="margin: 10px 0; padding-left: 10px; border-left: 2px dashed #475569;"></div>
    <button class="copy-btn" style="margin-bottom: 15px; width: auto;" onclick="addWaypoint()">+ Пройти через...</button>
    <div class="action-buttons"><button class="icon-btn" onclick="swapInputs()" title="Поменять местами">⇅</button></div>
     <div class="input-group">
        <label>Конечная степь:</label>
        <div class="input-wrapper">
            <input type="text" id="endNode" placeholder="100">
            <button class="inline-show-btn" onclick="openViewerWithId('endNode')">Показать</button>
        </div>
     </div>
    <button class="main-btn" onclick="calculateRoute()">Построить маршрут</button>
        <div class="two-cols-wrapper">
        <label style="cursor: pointer; display: inline-flex; align-items: center; justify-content: center;">
            <input type="checkbox" id="twoColsCheckbox" onchange="toggleTwoColumns()">
            Показывать маршрут в два ряда
        </label>
    </div>
    <div id="result"></div>
    <button id="saveImgBtn" class="copy-btn" style="display:none" onclick="saveAsImage()">Скачать маршрут как картинку</button>
            <div class="tabs-row">
        <button class="drawer-toggle" id="btnDraw" onclick="openTab('draw')">Нарисовать степь</button>
        <button class="drawer-toggle" id="btnView" onclick="openTab('view')">Показать степь</button>
    </div>

    <div id="drawerContainer" class="drawer-container">
        <p style="margin-top: 0; font-size: 0.9rem;">Нажимайте на ячейки, чтобы отметить переходы</p>
        <div id="drawerGrid" class="drawer-grid"></div>
        <div id="drawerResult" class="drawer-result">Отметьте переходы...</div>
                <div id="autocompletePrompt" style="display:none; margin-top:10px; font-size:0.9rem; color:#cbd5e1; text-align:center;"></div>
        <div class="drawer-actions">
            <button class="drawer-btn" onclick="setDrawerTarget('start')">Сделать начальной</button>
            <button class="drawer-btn" onclick="setDrawerTarget('end')">Сделать конечной</button>
            <button class="drawer-btn" onclick="setDrawerTarget('waypoint')">Добавить в промежуточные</button>
        </div>
            <button onclick="resetDrawer()" style="background: #324154; color: #f87171; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; margin-top: 15px; font-size: 0.9rem; width: 100%; transition: background 0.2s;" onmouseover="this.style.background='#2E3B4E'" onmouseout="this.style.background='#324154'">Сбросить сетку</button>
    </div>
        
    <div id="viewerContainer" class="drawer-container">
        <p style="margin-top: 0; font-size: 0.9rem;">Введите номер степи, которую хотите увидеть:</p>
        <div style="display: flex; gap: 10px; margin-bottom: 1rem; width: 100%;">
            <input type="text" id="viewerInput" placeholder="Номер..." style="flex: 1;">
            <button class="drawer-btn" style="display:block; padding: 0 1.5rem;" onclick="renderViewer()">Показать</button>
        </div>
        <div id="viewerResult" class="drawer-result"></div>
        <div id="viewerGrid" class="drawer-grid" style="display:none; pointer-events: none;"></div>
    </div>

</div>
    <div class="site-footer">
    Код для сайта написан <b>Gemini</b> под чётким руководством игрока <a href="https://catwar.net/cat1033188" target="_blank"><b>Черничный Чизкейк</b></a> и с помощью её материалов из ленты.<br><br>
    Отдельная благодарность:<br>
    <a href="https://catwar.net/cat957405" target="_blank"><b>Валун8</b></a>, <a href="https://catwar.net/cat1659007" target="_blank"><b>Герой</b></a> и <a href="https://catwar.net/cat1274927" target="_blank"><b>Синамон</b></a> - за помощь в поиске ошибок в расстановке переходов и связях между степями;<br>
    <a href="https://catwar.net/cat1659007" target="_blank"><b>Герой</b></a> - за идею создания графа степей;<br>
        <a href="https://catwar.net/cat957405" target="_blank"><b>Валун8</b></a> и другие ребята из тг чата зпшников - за советы по дизайну сайта и его функционалу;<br>
    Создателям карты Звёздных Степей и Абстрактного Подвала за возможность дополнительно проверить правильность маршрутов;<br>
    И, конечно, <b>тебе</b>, гость на этой страничке, за то, что используешь мой инструментик!<br><br>
    P.S. Пожалуйста, напишите мне в <a href="https://t.me/LIUOVA" target="_blank">Телеграм (<b>@LIUOVA</b>)</a> или в <a href="https://catwar.net/ls?new=Черничный Чизкейк" target="_blank">ЛС</a>, если заметили баг/ошибку или имеете предложения для развития сайта!
</div>


<script id="data-graph" type="text/plain"><?xml version="1.0" encoding="UTF-8"?><graphml><graph id="Graph" uidGraph="100" uidEdge="11378">
    <node id="0" mainText="1" /><node id="1" mainText="2" /><node id="2" mainText="46" /><node id="3" mainText="43" /><node id="4" mainText="62" /><node id="5" mainText="5" /><node id="6" mainText="22" /><node id="7" mainText="3" /><node id="8" mainText="6" /><node id="9" mainText="34" /><node id="10" mainText="37" /><node id="11" mainText="38" /><node id="12" mainText="15" /><node id="13" mainText="55" /><node id="14" mainText="4" /><node id="15" mainText="36" /><node id="16" mainText="90" /><node id="17" mainText="52" /><node id="18" mainText="75" /><node id="19" mainText="23" /><node id="20" mainText="7" /><node id="21" mainText="99" /><node id="22" mainText="84" /><node id="23" mainText="65" /><node id="24" mainText="41" /><node id="25" mainText="49" /><node id="26" mainText="8" /><node id="27" mainText="83" /><node id="28" mainText="9" /><node id="29" mainText="25" /><node id="30" mainText="70" /><node id="31" mainText="26" /><node id="32" mainText="58" /><node id="33" mainText="28" /><node id="34" mainText="74" /><node id="35" mainText="59" /><node id="36" mainText="10" /><node id="37" mainText="66" /><node id="38" mainText="85" /><node id="39" mainText="11" /><node id="40" mainText="98" /><node id="41" mainText="54" /><node id="42" mainText="14" /><node id="43" mainText="12" /><node id="44" mainText="40" /><node id="45" mainText="27" /><node id="46" mainText="13" /><node id="47" mainText="35" /><node id="48" mainText="86" /><node id="49" mainText="30" /><node id="50" mainText="16" /><node id="51" mainText="72" /><node id="52" mainText="53" /><node id="53" mainText="76" /><node id="54" mainText="24" /><node id="55" mainText="17" /><node id="56" mainText="20" /><node id="57" mainText="18" /><node id="58" mainText="19" /><node id="59" mainText="29" /><node id="60" mainText="79" /><node id="61" mainText="68" /><node id="62" mainText="97" /><node id="63" mainText="21" /><node id="64" mainText="91" /><node id="65" mainText="63" /><node id="66" mainText="94" /><node id="67" mainText="78" /><node id="68" mainText="95" /><node id="69" mainText="56" /><node id="70" mainText="33" /><node id="71" mainText="93" /><node id="72" mainText="69" /><node id="73" mainText="32" /><node id="74" mainText="39" /><node id="75" mainText="50" /><node id="76" mainText="31" /><node id="77" mainText="67" /><node id="78" mainText="89" /><node id="79" mainText="77" /><node id="80" mainText="48" /><node id="81" mainText="47" /><node id="82" mainText="80" /><node id="83" mainText="45" /><node id="84" mainText="61" /><node id="85" mainText="42" /><node id="86" mainText="87" /><node id="87" mainText="57" /><node id="88" mainText="44" /><node id="89" mainText="82" /><node id="90" mainText="71" /><node id="91" mainText="73" /><node id="92" mainText="60" /><node id="93" mainText="51" /><node id="94" mainText="92" /><node id="95" mainText="100" /><node id="96" mainText="81" /><node id="97" mainText="88" /><node id="98" mainText="64" /><node id="99" mainText="96" />
    <edge source="0" target="1" /><edge source="0" target="2" /><edge source="0" target="3" /><edge source="0" target="4" /><edge source="1" target="5" /><edge source="1" target="6" /><edge source="7" target="8" /><edge source="7" target="9" /><edge source="7" target="10" /><edge source="7" target="11" /><edge source="7" target="12" /><edge source="7" target="13" /><edge source="14" target="7" /><edge source="14" target="15" /><edge source="14" target="16" /><edge source="5" target="14" /><edge source="5" target="3" /><edge source="5" target="17" /><edge source="5" target="18" /><edge source="5" target="16" /><edge source="5" target="19" /><edge source="8" target="0" /><edge source="8" target="20" /><edge source="8" target="21" /><edge source="8" target="22" /><edge source="8" target="23" /><edge source="8" target="24" /><edge source="20" target="25" /><edge source="20" target="26" /><edge source="20" target="27" /><edge source="20" target="13" /><edge source="26" target="28" /><edge source="26" target="29" /><edge source="26" target="12" /><edge source="26" target="30" /><edge source="26" target="25" /><edge source="26" target="23" /><edge source="28" target="35" /><edge source="28" target="36" /><edge source="28" target="37" /><edge source="28" target="38" /><edge source="36" target="39" /><edge source="36" target="40" /><edge source="36" target="41" /><edge source="39" target="42" /><edge source="39" target="43" /><edge source="39" target="44" /><edge source="43" target="12" /><edge source="43" target="45" /><edge source="43" target="28" /><edge source="46" target="12" /><edge source="46" target="44" /><edge source="46" target="30" /><edge source="46" target="47" /><edge source="42" target="12" /><edge source="42" target="48" /><edge source="42" target="14" /><edge source="42" target="49" /><edge source="12" target="50" /><edge source="12" target="18" /><edge source="12" target="51" /><edge source="12" target="52" /><edge source="12" target="20" /><edge source="12" target="5" /><edge source="50" target="53" /><edge source="50" target="9" /><edge source="50" target="54" /><edge source="50" target="27" /><edge source="50" target="45" /><edge source="50" target="20" /><edge source="50" target="55" /><edge source="55" target="56" /><edge source="55" target="57" /><edge source="57" target="58" /><edge source="57" target="59" /><edge source="58" target="15" /><edge source="58" target="60" /><edge source="58" target="61" /><edge source="58" target="29" /><edge source="58" target="56" /><edge source="58" target="22" /><edge source="58" target="62" /><edge source="56" target="63" /><edge source="56" target="12" /><edge source="56" target="48" /><edge source="56" target="64" /><edge source="63" target="44" /><edge source="63" target="6" /><edge source="63" target="65" /><edge source="63" target="3" /><edge source="63" target="50" /><edge source="6" target="29" /><edge source="6" target="56" /><edge source="6" target="58" /><edge source="6" target="66" /><edge source="6" target="63" /><edge source="6" target="50" /><edge source="19" target="67" /><edge source="19" target="68" /><edge source="19" target="43" /><edge source="19" target="40" /><edge source="54" target="1" /><edge source="54" target="42" /><edge source="54" target="69" /><edge source="54" target="48" /><edge source="54" target="70" /><edge source="54" target="71" /><edge source="54" target="72" /><edge source="29" target="31" /><edge source="29" target="12" /><edge source="31" target="57" /><edge source="31" target="2" /><edge source="31" target="69" /><edge source="45" target="73" /><edge source="45" target="74" /><edge source="45" target="5" /><edge source="45" target="71" /><edge source="45" target="73" /><edge source="45" target="75" /><edge source="33" target="45" /><edge source="33" target="24" /><edge source="59" target="33" /><edge source="59" target="23" /><edge source="59" target="29" /><edge source="59" target="44" /><edge source="49" target="76" /><edge source="49" target="77" /><edge source="49" target="56" /><edge source="49" target="16" /><edge source="49" target="35" /><edge source="49" target="78" /><edge source="49" target="43" /><edge source="76" target="21" /><edge source="76" target="79" /><edge source="76" target="80" /><edge source="76" target="68" /><edge source="76" target="30" /><edge source="76" target="70" /><edge source="73" target="36" /><edge source="73" target="42" /><edge source="70" target="7" /><edge source="70" target="32" /><edge source="70" target="4" /><edge source="70" target="22" /><edge source="70" target="81" /><edge source="70" target="40" /><edge source="70" target="81" /><edge source="9" target="82" /><edge source="9" target="14" /><edge source="9" target="50" /><edge source="9" target="83" /><edge source="9" target="84" /><edge source="9" target="71" /><edge source="47" target="50" /><edge source="47" target="85" /><edge source="15" target="7" /><edge source="15" target="70" /><edge source="10" target="58" /><edge source="10" target="37" /><edge source="10" target="0" /><edge source="10" target="42" /><edge source="10" target="72" /><edge source="10" target="15" /><edge source="11" target="86" /><edge source="11" target="13" /><edge source="11" target="74" /><edge source="74" target="39" /><edge source="74" target="87" /><edge source="74" target="41" /><edge source="44" target="80" /><edge source="44" target="33" /><edge source="44" target="19" /><edge source="44" target="26" /><edge source="44" target="39" /><edge source="24" target="85" /><edge source="24" target="23" /><edge source="85" target="1" /><edge source="85" target="78" /><edge source="3" target="9" /><edge source="3" target="7" /><edge source="3" target="28" /><edge source="3" target="80" /><edge source="3" target="28" /><edge source="88" target="31" /><edge source="88" target="32" /><edge source="88" target="33" /><edge source="88" target="7" /><edge source="88" target="34" /><edge source="83" target="0" /><edge source="83" target="3" /><edge source="83" target="89" /><edge source="83" target="90" /><edge source="83" target="51" /><edge source="83" target="24" /><edge source="83" target="5" /><edge source="2" target="58" /><edge source="2" target="51" /><edge source="2" target="74" /><edge source="2" target="10" /><edge source="2" target="61" /><edge source="81" target="80" /><edge source="81" target="8" /><edge source="81" target="85" /><edge source="80" target="25" /><edge source="80" target="84" /><edge source="80" target="29" /><edge source="80" target="7" /><edge source="25" target="45" /><edge source="25" target="87" /><edge source="25" target="73" /><edge source="25" target="43" /><edge source="25" target="69" /><edge source="25" target="17" /><edge source="75" target="91" /><edge source="75" target="92" /><edge source="93" target="71" /><edge source="93" target="79" /><edge source="93" target="46" /><edge source="93" target="11" /><edge source="93" target="34" /><edge source="93" target="18" /><edge source="17" target="26" /><edge source="17" target="21" /><edge source="52" target="41" /><edge source="52" target="71" /><edge source="52" target="94" /><edge source="52" target="61" /><edge source="41" target="13" /><edge source="41" target="86" /><edge source="13" target="61" /><edge source="13" target="95" /><edge source="13" target="14" /><edge source="13" target="4" /><edge source="13" target="38" /><edge source="13" target="33" /><edge source="13" target="66" /><edge source="69" target="67" /><edge source="69" target="44" /><edge source="69" target="79" /><edge source="69" target="96" /><edge source="69" target="97" /><edge source="69" target="53" /><edge source="87" target="98" /><edge source="87" target="11" /><edge source="87" target="83" /><edge source="87" target="46" /><edge source="87" target="36" /><edge source="87" target="7" /><edge source="87" target="0" /><edge source="32" target="85" /><edge source="32" target="23" /><edge source="32" target="31" /><edge source="32" target="52" /><edge source="32" target="2" /><edge source="32" target="80" /><edge source="32" target="5" /><edge source="32" target="45" /><edge source="35" target="92" /><edge source="35" target="77" /><edge source="35" target="38" /><edge source="92" target="11" /><edge source="92" target="80" /><edge source="92" target="90" /><edge source="92" target="57" /><edge source="92" target="32" /><edge source="84" target="52" /><edge source="84" target="57" /><edge source="84" target="71" /><edge source="84" target="8" /><edge source="84" target="4" /><edge source="84" target="8" /><edge source="84" target="91" /><edge source="4" target="65" /><edge source="4" target="21" /><edge source="4" target="34" /><edge source="65" target="0" /><edge source="65" target="87" /><edge source="65" target="70" /><edge source="65" target="97" /><edge source="98" target="20" /><edge source="98" target="97" /><edge source="98" target="59" /><edge source="23" target="37" /><edge source="23" target="75" /><edge source="23" target="82" /><edge source="23" target="79" /><edge source="37" target="60" /><edge source="37" target="29" /><edge source="37" target="35" /><edge source="37" target="35" /><edge source="37" target="87" /><edge source="37" target="82" /><edge source="37" target="26" /><edge source="77" target="61" /><edge source="77" target="52" /><edge source="77" target="83" /><edge source="77" target="75" /><edge source="77" target="62" /><edge source="61" target="24" /><edge source="61" target="9" /><edge source="61" target="11" /><edge source="61" target="72" /><edge source="72" target="43" /><edge source="72" target="18" /><edge source="72" target="96" /><edge source="72" target="17" /><edge source="72" target="65" /><edge source="72" target="58" /><edge source="30" target="54" /><edge source="30" target="85" /><edge source="30" target="1" /><edge source="30" target="92" /><edge source="30" target="37" /><edge source="90" target="75" /><edge source="90" target="49" /><edge source="90" target="92" /><edge source="90" target="15" /><edge source="51" target="91" /><edge source="51" target="93" /><edge source="91" target="30" /><edge source="91" target="31" /><edge source="91" target="66" /><edge source="91" target="58" /><edge source="91" target="62" /><edge source="34" target="19" /><edge source="34" target="76" /><edge source="18" target="27" /><edge source="18" target="47" /><edge source="18" target="86" /><edge source="18" target="87" /><edge source="53" target="60" /><edge source="53" target="99" /><edge source="53" target="1" /><edge source="53" target="19" /><edge source="53" target="80" /><edge source="53" target="13" /><edge source="79" target="91" /><edge source="79" target="85" /><edge source="79" target="51" /><edge source="79" target="37" /><edge source="67" target="60" /><edge source="67" target="52" /><edge source="67" target="88" /><edge source="67" target="64" /><edge source="60" target="72" /><edge source="60" target="27" /><edge source="60" target="54" /><edge source="60" target="86" /><edge source="60" target="92" /><edge source="60" target="7" /><edge source="60" target="1" /><edge source="82" target="96" /><edge source="82" target="50" /><edge source="96" target="83" /><edge source="96" target="94" /><edge source="96" target="9" /><edge source="96" target="57" /><edge source="96" target="31" /><edge source="96" target="57" /><edge source="96" target="73" /><edge source="89" target="82" /><edge source="89" target="60" /><edge source="89" target="1" /><edge source="89" target="79" /><edge source="27" target="8" /><edge source="27" target="80" /><edge source="27" target="91" /><edge source="27" target="71" /><edge source="27" target="63" /><edge source="22" target="31" /><edge source="22" target="29" /><edge source="22" target="56" /><edge source="22" target="74" /><edge source="22" target="56" /><edge source="22" target="33" /><edge source="38" target="41" /><edge source="38" target="7" /><edge source="38" target="29" /><edge source="38" target="94" /><edge source="48" target="41" /><edge source="48" target="8" /><edge source="48" target="37" /><edge source="86" target="84" /><edge source="86" target="82" /><edge source="86" target="97" /><edge source="86" target="20" /><edge source="86" target="87" /><edge source="97" target="53" /><edge source="97" target="19" /><edge source="97" target="68" /><edge source="97" target="16" /><edge source="97" target="53" /><edge source="97" target="86" /><edge source="97" target="99" /><edge source="78" target="34" /><edge source="78" target="29" /><edge source="78" target="58" /><edge source="78" target="99" /><edge source="16" target="33" /><edge source="16" target="35" /><edge source="16" target="84" /><edge source="16" target="52" /><edge source="16" target="2" /><edge source="16" target="14" /><edge source="64" target="51" /><edge source="64" target="98" /><edge source="94" target="77" /><edge source="94" target="43" /><edge source="94" target="67" /><edge source="94" target="31" /><edge source="94" target="53" /><edge source="94" target="30" /><edge source="94" target="28" /><edge source="71" target="95" /><edge source="71" target="76" /><edge source="71" target="81" /><edge source="71" target="44" /><edge source="71" target="94" /><edge source="71" target="91" /><edge source="66" target="59" /><edge source="66" target="57" /><edge source="66" target="45" /><edge source="66" target="93" /><edge source="66" target="85" /><edge source="66" target="64" /><edge source="66" target="85" /><edge source="68" target="78" /><edge source="68" target="4" /><edge source="68" target="61" /><edge source="68" target="99" /><edge source="68" target="60" /><edge source="99" target="62" /><edge source="99" target="83" /><edge source="99" target="63" /><edge source="99" target="63" /><edge source="99" target="28" /><edge source="62" target="73" /><edge source="62" target="89" /><edge source="40" target="17" /><edge source="40" target="74" /><edge source="21" target="60" /><edge source="21" target="57" /><edge source="21" target="29" /><edge source="21" target="57" /><edge source="21" target="81" /><edge source="21" target="15" /><edge source="21" target="10" /><edge source="21" target="20" /><edge source="95" target="80" /><edge source="95" target="33" /><edge source="95" target="55" /><edge source="95" target="25" /><edge source="95" target="72" /><edge source="38" target="51" /><edge source="95" target="88" />
</graph></graphml>
    </script>

<script id="data-visuals" type="text/plain">
   [block=Меню1:1]
[header=Меню2:П]⬛[/header]⬜⬜⬜⬜⬜⬜[header=Меню2:2]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:46]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:43]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:62]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:2]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:5]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:22]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:3]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:6]⬛[/header]⬜⬜⬜
⬜[header=Меню2:34]⬛[/header]⬜⬜[header=Меню2:37]⬛[/header]⬜[header=Меню2:38]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:15]⬛[/header]⬜
⬜⬜⬜⬜⬜[header=Меню2:55]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:4]
[header=Меню2:3]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:36]⬛[/header]⬜⬜⬜[header=Меню2:90]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:5]
⬜[header=Меню2:4]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:43]⬛[/header][header=Меню2:52]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:75]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:90]⬛[/header]⬜
⬜⬜⬜⬜⬜[header=Меню2:23]⬛[/header]⬜⬜⬜⬜
[/block]
[block=Меню1:6]
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:1]1️⃣[/header]⬜
⬜⬜⬜[header=Меню2:7]⬛[/header]⬜⬜⬜⬜[header=Меню2:99]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:84]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:65]⬛[/header]⬜⬜
[header=Меню2:41]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:7]
⬜[header=Меню2:49]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:8]⬛[/header]⬜⬜[header=Меню2:83]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:55]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:8]
⬜⬜[header=Меню2:9]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:25]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:15]⬛[/header][header=Меню2:70]⬛[/header]⬜⬜[header=Меню2:49]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:65]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:9]
⬜⬜⬜[header=Меню2:59]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:10]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:66]⬛[/header]⬜⬜[header=Меню2:85]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:10]
⬜⬜⬜⬜[header=Меню2:11]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:98]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:54]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:98]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:11]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:14]⬛[/header]⬜
⬜⬜[header=Меню2:12]⬛[/header]⬜⬜[header=Меню2:40]⬛[/header]⬜⬜⬜⬜
[/block]
[block=Меню1:12]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:15]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:27]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:9]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:13]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:15]⬛[/header]⬜⬜⬜
⬜[header=Меню2:40]⬛[/header]⬜⬜⬜[header=Меню2:70]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:35]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:14]
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:15]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:86]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:4]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:30]⬛[/header]⬜
[/block]
[block=Меню1:15]
⬜⬜[header=Меню2:16]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:75]⬛[/header]⬜[header=Меню2:72]⬛[/header]⬜⬜
[header=Меню2:53]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:7]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:5]⬛[/header]⬜⬜⬜⬜⬜
[/block]
[block=Меню1:16]
⬜⬜⬜⬜[header=Меню2:76]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:34]⬛[/header]⬜⬜⬜⬜
⬜⬜[header=Меню2:24]⬛[/header][header=Меню2:83]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:27]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:7]⬛[/header][header=Меню2:17]⬛[/header]⬜
[/block]
[block=Меню1:17]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:20]⬛[/header]⬜⬜⬜⬜⬜⬜⬜[header=Меню2:18]⬛[/header]⬜
[/block]
[block=Меню1:18]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:19]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:29]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:19]
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:36]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:79]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:68]⬛[/header]⬜⬜
[header=Меню2:25]⬛[/header]⬜⬜[header=Меню2:20]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:84]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:97]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:20]
[header=Меню2:21]⬛[/header]⬜⬜⬜[header=Меню2:15]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:86]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:91]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:21]
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:40]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:22]⬛[/header]⬜⬜[header=Меню2:63]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:43]⬛[/header][header=Меню2:16]⬛[/header]⬜⬜⬜⬜⬜
[/block]
[block=Меню1:22]
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:25]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:20]⬛[/header]⬜⬜⬜
⬜⬜[header=Меню2:19]⬛[/header]⬜⬜[header=Меню2:94]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:21]⬛[/header]⬜⬜⬜
[header=Меню2:16]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:23]
⬜⬜⬜⬜[header=Меню2:78]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:95]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:12]⬛[/header][header=Меню2:98]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:24]
⬜⬜⬜⬜⬜[header=Меню2:2]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:14]⬛[/header]⬜
⬜⬜⬜⬜[header=Меню2:56]⬛[/header]⬜[header=Меню2:86]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:33]⬛[/header]⬜[header=Меню2:93]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:69]⬛[/header]⬜⬜
[/block]
[block=Меню1:25]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:26]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:15]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:26]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:18]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:46]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:46]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:56]⬛[/header]⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:27]
⬜⬜⬜⬜⬜⬜[header=Меню2:32]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:39]⬛[/header][header=Меню2:5]⬛[/header]⬜⬜[header=Меню2:39]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:93]⬛[/header]⬜⬜[header=Меню2:32]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:50]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:28]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:27]⬛[/header]⬜[header=Меню2:41]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:29]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:28]⬛[/header]⬜⬜⬜⬜⬜⬜⬜[header=Меню2:65]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:25]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:40]⬛[/header]⬜⬜
[/block]
[block=Меню1:30]
⬜⬜⬜⬜[header=Меню2:31]⬛[/header][header=Меню2:67]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:20]⬛[/header]⬜⬜
⬜[header=Меню2:90]⬛[/header]⬜⬜⬜[header=Меню2:59]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:89]⬛[/header]⬜⬜⬜[header=Меню2:12]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:31]
[header=Меню2:99]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:77]⬛[/header]⬜[header=Меню2:48]⬛[/header]⬜
⬜[header=Меню2:95]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:70]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:33]⬛[/header]⬜⬜⬜⬜
[/block]
[block=Меню1:32]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:10]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:14]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:33]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:3]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:58]⬛[/header][header=Меню2:62]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:84]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:47]⬛[/header]⬜⬜⬜⬜⬜
[header=Меню2:98]⬛[/header][header=Меню2:47]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:34]
⬜⬜⬜⬜[header=Меню2:80]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:4]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:16]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:45]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:61]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:93]⬛[/header]⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:35]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜️[header=Меню2:16]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜️⬜[header=Меню2:42]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:36]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:3]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:33]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:37]
⬜⬜⬜[header=Меню2:19]⬛[/header]⬜⬜[header=Меню2:66]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:1]1️⃣[/header]⬜[header=Меню2:14]⬛[/header]⬜⬜⬜⬜⬜
[header=Меню2:69]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:36]⬛[/header]⬜⬜⬜
[/block]
[block=Меню1:38]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:87]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:55]⬛[/header]⬜
⬜⬜[header=Меню2:39]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:39]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:11]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:57]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:54]⬛[/header]⬜⬜
[/block]
[block=Меню1:40]
⬜⬜⬜⬜⬜[header=Меню2:48]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:28]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:23]⬛[/header]⬜⬜⬜⬜[header=Меню2:8]⬛[/header]⬜
[header=Меню2:11]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:41]
[header=Меню2:42]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:65]⬛[/header]⬜⬜⬜⬜
[/block]
[block=Меню1:42]
⬜⬜⬜⬜⬜⬜[header=Меню2:2]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:89]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:43]
⬜⬜⬜⬜[header=Меню2:34]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:3]⬛[/header]⬜⬜[header=Меню2:9]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:48]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:9]⬛[/header]⬜
[/block]
[block=Меню1:44]
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:26]⬛[/header]⬜⬜
[header=Меню2:58]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:28]⬛[/header]⬜⬜⬜[header=Меню2:3]⬛[/header]⬜[header=Меню2:74]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:45]
⬜⬜⬜[header=Меню2:1]1️⃣[/header]⬜⬜[header=Меню2:43]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:82]⬛[/header]⬜⬜⬜⬜
[header=Меню2:71]⬛[/header][header=Меню2:72]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:41]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:5]⬛[/header]⬜
[/block]
[block=Меню1:46]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:19]⬛[/header]⬜[header=Меню2:72]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:39]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:37]⬛[/header]⬜[header=Меню2:68]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:47]
⬜⬜⬜⬜⬜⬜[header=Меню2:48]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:6]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:42]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:48]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:49]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:61]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:25]⬛[/header]⬜⬜⬜⬜
⬜[header=Меню2:3]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:49]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:27]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:57]⬛[/header][header=Меню2:32]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:12]⬛[/header]⬜⬜⬜⬜⬜
[header=Меню2:56]⬛[/header]⬜⬜⬜[header=Меню2:52]⬛[/header]⬜⬜⬜⬜⬜
[/block]
[block=Меню1:50]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:73]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:60]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:51]
⬜⬜⬜⬜⬜⬜[header=Меню2:93]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:77]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:13]⬛[/header]⬜[header=Меню2:38]⬛[/header]⬜⬜[header=Меню2:74]⬛[/header]⬜
⬜⬜[header=Меню2:75]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:52]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:8]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:99]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:53]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:54]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:93]⬛[/header][header=Меню2:92]⬛[/header]⬜⬜⬜⬜
⬜⬜[header=Меню2:68]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:54]
⬜⬜⬜⬜⬜⬜[header=Меню2:55]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:87]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:87]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:55]
⬜⬜⬜[header=Меню2:68]⬛[/header]⬜[header=Меню2:100]⬛[/header]⬜⬜⬜⬜
[header=Меню2:4]⬛[/header]⬜⬜[header=Меню2:62]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:85]⬛[/header]⬜[header=Меню2:28]⬛[/header]⬜⬜[header=Меню2:94]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:56]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:78]⬛[/header]⬜
⬜⬜[header=Меню2:40]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:77]⬛[/header][header=Меню2:81]⬛[/header][header=Меню2:88]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:76]⬛[/header]⬜⬜⬜⬜
[/block]
[block=Меню1:57]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:64]⬛[/header]⬜⬜⬜[header=Меню2:38]⬛[/header]⬜⬜⬜⬜
⬜[header=Меню2:45]⬛[/header][header=Меню2:13]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:10]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:3]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:1]1️⃣[/header]⬜⬜⬜
[/block]
[block=Меню1:58]
⬜[header=Меню2:42]⬛[/header]⬜[header=Меню2:65]⬛[/header]⬜⬜⬜⬜⬜⬜
[header=Меню2:26]⬛[/header]⬜⬜[header=Меню2:53]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:46]⬛[/header]⬜⬜⬜
⬜[header=Меню2:48]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:5]⬛[/header]⬜[header=Меню2:27]⬛[/header]⬜⬜⬜⬜⬜
[/block]
[block=Меню1:59]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:60]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:67]⬛[/header]⬜⬜[header=Меню2:85]⬛[/header]⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:60]
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:38]⬛[/header]⬜
⬜[header=Меню2:48]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:71]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:18]⬛[/header]⬜⬜[header=Меню2:58]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:61]
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:53]⬛[/header]⬜⬜
[header=Меню2:6]⬛[/header]⬜⬜⬜⬜⬜⬜[header=Меню2:18]⬛[/header][header=Меню2:93]⬛[/header]⬜
⬜[header=Меню2:62]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜️⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:6]⬛[/header]⬜[header=Меню2:73]⬛[/header]⬜
[/block]
[block=Меню1:62]
⬜⬜[header=Меню2:63]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:99]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:74]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:63]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:1]1️⃣[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:57]⬛[/header]⬜⬜⬜[header=Меню2:33]⬛[/header]⬜[header=Меню2:88]⬛[/header]⬜
[/block]
[block=Меню1:64]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:7]⬛[/header]⬜⬜⬜⬜[header=Меню2:88]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:29]⬛[/header]⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:65]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:66]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:50]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:80]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:77]⬛[/header]⬜
[/block]
[block=Меню1:66]
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:79]⬛[/header]⬜
[header=Меню2:25]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:59]⬛[/header]⬜⬜
⬜⬜⬜⬜[header=Меню2:59]⬛[/header]⬜[header=Меню2:57]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:80]⬛[/header][header=Меню2:8]⬛[/header]⬜⬜⬜
[/block]
[block=Меню1:67]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:68]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:53]⬛[/header]⬜[header=Меню2:45]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:50]⬛[/header]⬜⬜⬜[header=Меню2:97]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:68]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:41]⬛[/header]⬜[header=Меню2:34]⬛[/header]⬜[header=Меню2:38]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:69]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:69]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:12]⬛[/header][header=Меню2:75]⬛[/header]⬜⬜⬜⬜
⬜[header=Меню2:81]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:52]⬛[/header]⬜[header=Меню2:63]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:19]⬛[/header]⬜⬜
[/block]
[block=Меню1:70]
⬜⬜⬜⬜⬜⬜[header=Меню2:24]⬛[/header][header=Меню2:42]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:2]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:60]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:66]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:71]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:50]⬛[/header]⬜⬜⬜⬜⬜⬜⬜[header=Меню2:30]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:60]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:36]⬛[/header]⬜⬜⬜
[/block]
[block=Меню1:72]
[header=Меню2:73]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:51]⬛[/header]⬜⬜
[/block]
[block=Меню1:73]
[header=Меню2:70]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:26]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:94]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:19]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:97]⬛[/header]⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:74]
⬜⬜⬜⬜⬜[header=Меню2:23]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:31]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:75]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:83]⬛[/header]⬜[header=Меню2:35]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:87]⬛[/header][header=Меню2:57]⬛[/header]⬜⬜️⬜
[/block]
[block=Меню1:76]
⬜⬜⬜⬜⬜[header=Меню2:79]⬛[/header][header=Меню2:96]⬛[/header][header=Меню2:2]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:23]⬛[/header]⬜[header=Меню2:48]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:55]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:77]
[header=Меню2:73]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:42]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:72]⬛[/header]⬜⬜[header=Меню2:66]⬛[/header]⬜⬜⬜⬜
[/block]
[block=Меню1:78]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:79]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:53]⬛[/header]⬜⬜
⬜⬜⬜⬜[header=Меню2:44]⬛[/header]⬜[header=Меню2:91]⬛[/header]⬜⬜⬜
[/block]
[block=Меню1:79]
⬜⬜⬜⬜[header=Меню2:69]⬛[/header]⬜⬜⬜⬜⬜
⬜[header=Меню2:83]⬛[/header]⬜⬜⬜⬜[header=Меню2:24]⬛[/header]⬜[header=Меню2:87]⬛[/header]⬜
⬜⬜⬜⬜[header=Меню2:60]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:3]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:2]⬛[/header]⬜⬜⬜⬜⬜
[/block]
[block=Меню1:80]
⬜⬜⬜⬜⬜[header=Меню2:81]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:16]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:81]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:45]⬛[/header]⬜
⬜⬜⬜⬜[header=Меню2:92]⬛[/header]⬜⬜⬜⬜⬜
⬜[header=Меню2:34]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:18]⬛[/header]⬜[header=Меню2:26]⬛[/header]⬜⬜
⬜[header=Меню2:18]⬛[/header]⬜⬜⬜⬜[header=Меню2:32]⬛[/header]⬜⬜⬜
[/block]
[block=Меню1:82]
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:80]⬛[/header]⬜⬜
⬜[header=Меню2:79]⬛[/header]⬜⬜⬜⬜[header=Меню2:2]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:77]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:83]
[header=Меню2:6]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:48]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:73]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:93]⬛[/header]⬜⬜⬜⬜⬜[header=Меню2:21]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:84]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:26]⬛[/header]⬜⬜[header=Меню2:25]⬛[/header]⬜⬜⬜
⬜[header=Меню2:20]⬛[/header]⬜[header=Меню2:39]⬛[/header]⬜[header=Меню2:20]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:28]⬛[/header]⬜⬜
[/block]
[block=Меню1:85]
⬜⬜⬜⬜[header=Меню2:54]⬛[/header]⬜⬜[header=Меню2:3]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:25]⬛[/header]⬜⬜⬜⬜
⬜[header=Меню2:72]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:92]⬛[/header]⬜⬜⬜⬜⬜
[/block]
[block=Меню1:86]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:54]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:6]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:66]⬛[/header]⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:87]
⬜⬜⬜⬜⬜[header=Меню2:61]⬛[/header]⬜[header=Меню2:80]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:88]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:7]⬛[/header][header=Меню2:57]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:88]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:76]⬛[/header]⬜[header=Меню2:23]⬛[/header]⬜⬜⬜⬜
⬜⬜[header=Меню2:95]⬛[/header]⬜⬜[header=Меню2:90]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:76]⬛[/header]⬜⬜⬜⬜[header=Меню2:87]⬛[/header]⬜[header=Меню2:96]⬛[/header]⬜
[/block]
[block=Меню1:89]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:74]⬛[/header][header=Меню2:25]⬛[/header]⬜⬜⬜
⬜⬜⬜[header=Меню2:19]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:96]⬛[/header]⬜
[/block]
[block=Меню1:90]
⬜[header=Меню2:28]⬛[/header]⬜⬜⬜[header=Меню2:59]⬛[/header]⬜⬜⬜⬜
⬜[header=Меню2:61]⬛[/header]⬜⬜⬜⬜[header=Меню2:53]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:46]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:4]⬛[/header]⬜⬜
[/block]
[block=Меню1:91]
[header=Меню2:72]⬛[/header]⬜⬜⬜⬜⬜⬜[header=Меню2:64]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:92]
⬜⬜⬜⬜[header=Меню2:67]⬛[/header]⬜⬜⬜⬜⬜
⬜[header=Меню2:12]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:78]⬛[/header]⬜
⬜[header=Меню2:26]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:76]⬛[/header][header=Меню2:70]⬛[/header]⬜⬜⬜
⬜⬜[header=Меню2:9]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:93]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:100]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:31]⬛[/header]⬜⬜⬜⬜[header=Меню2:47]⬛[/header]⬜⬜⬜
[header=Меню2:40]⬛[/header]⬜⬜⬜⬜[header=Меню2:92]⬛[/header][header=Меню2:73]⬛[/header]⬜⬜⬜
[/block]
[block=Меню1:94]
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:29]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:18]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:27]⬛[/header]⬜⬜[header=Меню2:51]⬛[/header][header=Меню2:42]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[header=Меню2:91]⬛[/header]⬜[header=Меню2:42]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:95]
⬜⬜⬜⬜⬜⬜⬜⬜[header=Меню2:89]⬛[/header]⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:62]⬛[/header]⬜⬜⬜⬜⬜⬜⬜
⬜⬜[header=Меню2:68]⬛[/header]⬜⬜⬜⬜[header=Меню2:96]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:79]⬛[/header]⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:96]
⬜[header=Меню2:97]⬛[/header]⬜⬜⬜⬜[header=Меню2:45]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜[header=Меню2:21]⬛[/header]⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:21]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜[header=Меню2:9]⬛[/header]⬜⬜⬜
[/block]
[block=Меню1:97]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜️[header=Меню2:32]⬛[/header]⬜⬜[header=Меню2:82]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:98]
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜[header=Меню2:52]⬛[/header][header=Меню2:39]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
[/block]
[block=Меню1:99]
⬜⬜⬜⬜[header=Меню2:79]⬛[/header]⬜[header=Меню2:18]⬛[/header]⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜[header=Меню2:25]⬛[/header]⬜[header=Меню2:18]⬛[/header]⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:47]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:36]⬛[/header]⬜[header=Меню2:37]⬛[/header][header=Меню2:7]⬛[/header]⬜⬜
[/block]
[block=Меню1:100]
⬜⬜⬜⬜[header=Меню2:48]⬛[/header]⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:28]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜
⬜⬜⬜⬜⬜[header=Меню2:17]⬛[/header]⬜⬜⬜⬜
⬜⬜⬜⬜[header=Меню2:49]⬛[/header]⬜⬜⬜⬜⬜
⬜[header=Меню2:69]⬛[/header]⬜⬜⬜⬜⬜⬜[header=Меню2:44]⬛[/header]⬜
[/block]
 </script>

<script>
    let adjacency = {};
    let idToLabel = {};
    let labelToId = {};
    let visualData = {};
    let currentPathText = "";

    function parseGraph() {
        // ВОТ ЗДЕСЬ МЫ БЕРЕМ ДАННЫЕ ИЗ HTML, А НЕ ИЗ ПЕРЕМЕННОЙ
        const rawGraphXML = document.getElementById('data-graph').textContent.trim();
        
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(rawGraphXML, "text/xml");
        
        const nodes = xmlDoc.getElementsByTagName("node");
        for (let i = 0; i < nodes.length; i++) {
            const id = nodes[i].getAttribute("id");
            const label = nodes[i].getAttribute("mainText");
            if (id && label) { idToLabel[id] = label; labelToId[label] = id; }
        }
        const edges = xmlDoc.getElementsByTagName("edge");
        for (let i = 0; i < edges.length; i++) {
            const source = edges[i].getAttribute("source");
            const target = edges[i].getAttribute("target");
            if (!adjacency[source]) adjacency[source] = [];
            adjacency[source].push(target);
        }
    }

    function parseVisuals() {
        // БЕРЕМ ДАННЫЕ ИЗ HTML
        const rawBBCodeVisuals = document.getElementById('data-visuals').textContent.trim();
        
        const blockRegex = /\[block=Меню1:(\d+)\]([\s\S]*?)\[\/block\]/g;
        let match;
        while ((match = blockRegex.exec(rawBBCodeVisuals)) !== null) {
            const nodeLabel = match[1];
            const content = match[2].trim();
            const lines = content.split('\n').map(l => l.trim()).filter(l => l.length > 0);
            let gridLines = lines;
            if (lines[0] && /^\d+$/.test(lines[0])) gridLines = lines.slice(1);

            let gridCells = [];
            gridLines.forEach(line => {
                let simplified = line.replace(/\[header=Меню[1-3]:(\d+)\].*?\[\/header\]/g, "E($1)");
                const tokens = simplified.match(/E\(\d+\)|./g) || [];
                tokens.forEach(token => {
                    if (token.startsWith("E(")) {
                        const target = token.match(/\d+/)[0];
                        gridCells.push({ type: 'exit', target: target });
                    } else if (token === '⬜' || token === '⬛') {
                         gridCells.push({ type: 'empty', target: null });
                    }
                });
            });
            visualData[nodeLabel] = gridCells;
        }
    }

    // --- НОВЫЙ БЛОК ЛОГИКИ (Вставь вместо старой calculateRoute) ---

    // Функция добавления поля для точки
       function addWaypoint() {
        const container = document.getElementById("waypointsContainer");
        const div = document.createElement("div");
        div.style.marginBottom = "5px";
        div.style.display = "flex";
        div.style.gap = "5px";
        div.innerHTML = `
            <input type="text" class="waypoint-input" placeholder="Номер степи...">
            <button onclick="openViewerWithElement(this)" class="inline-show-btn">Показать</button>
            <button onclick="this.parentElement.remove()" style="background:#ef4444; border:none; color:white; border-radius:4px; cursor:pointer; padding: 0 10px;">X</button>
        `;
        container.appendChild(div);
    }


    // Главная функция расчета
    function calculateRoute() {
        const startLabel = document.getElementById("startNode").value.trim();
        const endLabel = document.getElementById("endNode").value.trim();
        const resultDiv = document.getElementById("result");
        const saveBtn = document.getElementById("saveImgBtn"); // Кнопка картинки
        
        resultDiv.innerHTML = "";
        if(saveBtn) saveBtn.style.display = "none";

        // Сбор промежуточных точек
        const wpInputs = document.querySelectorAll(".waypoint-input");
        let waypoints = [];
        for(let inp of wpInputs) {
            if(inp.value.trim()) waypoints.push(inp.value.trim());
        }

        // Проверки
        if (!labelToId[startLabel] || !labelToId[endLabel]) {
            resultDiv.innerHTML = `<div class="error">Ошибка: Проверьте старт и финиш.</div>`;
            return;
        }
        for(let w of waypoints) {
            if(!labelToId[w]) {
                resultDiv.innerHTML = `<div class="error">Ошибка: Степь ${w} не найдена.</div>`;
                return;
            }
        }

        const startId = labelToId[startLabel];
        const endId = labelToId[endLabel];
        const waypointIds = waypoints.map(w => labelToId[w]);

        let finalPath = [];

        // ЛОГИКА:
        // 1. Если нет точек -> просто BFS
        // 2. Если есть точки -> Перебор вариантов (TSP)

        if (waypointIds.length === 0) {
            finalPath = simpleBFS(startId, endId);
        } else {
            // Генерируем варианты порядка посещения
            const perms = permutator(waypointIds);
            let minLen = Infinity;

            for (let perm of perms) {
                let currentTotalPath = [];
                let currentPos = startId;
                let validPerm = true;
                
                // Строим полный путь: Старт -> Т1 -> Т2 -> ... -> Финиш
                const sequence = [...perm, endId];
                
                for (let target of sequence) {
                    const segment = simpleBFS(currentPos, target);
                    if (!segment) { validPerm = false; break; }
                    
                    // Склеиваем (убираем дубль на стыке)
                    if (currentTotalPath.length > 0) {
                        currentTotalPath.push(...segment.slice(1));
                    } else {
                        currentTotalPath.push(...segment);
                    }
                    currentPos = target;
                }

                if (validPerm && currentTotalPath.length < minLen) {
                    minLen = currentTotalPath.length;
                    finalPath = currentTotalPath;
                }
            }
        }

        if (!finalPath || finalPath.length === 0) {
            resultDiv.innerHTML = `<div class="error">Маршрут невозможен.</div>`;
            return;
        }

                // Визуализация
        renderPathVisuals(finalPath, resultDiv);
                // --- ПОДСВЕТКА ПРОМЕЖУТОЧНЫХ И КОНЕЧНОЙ СТЕПИ ---
        const targetEndVal = document.getElementById('endNode').value.trim();
        const waypointsVals = Array.from(document.querySelectorAll('.waypoint-input')).map(inp => inp.value.trim()).filter(v => v !== '');
        const targetsToHighlight = [targetEndVal, ...waypointsVals];

        const renderedSteps = resultDiv.querySelectorAll('.step-container');
        renderedSteps.forEach((container, index) => {
            // Пропускаем самую первую карточку (Старт), чтобы не подсвечивать её
            if (index === 0) return; 
            
            targetsToHighlight.forEach(target => {
                // Ищем точное совпадение номера степи в тексте карточки
                // Регулярное выражение \b гарантирует, что "Степь 5" не совпадет со "Степь 50"
                if (container.innerText.match(new RegExp(`Степь\\s+${target}\\b`, 'i'))) {
                    container.classList.add('highlight-target');
                }
            });
        });
        if(saveBtn) saveBtn.style.display = "block";

        // --- НОВАЯ КНОПКА "СВЕРНУТЬ МАРШРУТ" ---
        const closeBtn = document.createElement("button");
        closeBtn.className = "drawer-btn";
        closeBtn.innerText = "Свернуть маршрут";
        closeBtn.style.display = "block";
        closeBtn.style.gridColumn = "1 / -1"; // Растягиваем на всю ширину (если включены 2 колонки)
        closeBtn.style.margin = "20px auto 0 auto"; // Отступы и центрирование
        closeBtn.onclick = () => {
            resultDiv.innerHTML = ""; // Очищаем блок
            if (saveBtn) saveBtn.style.display = "none"; // Прячем кнопку скачивания
            window.scrollTo({ top: 0, behavior: 'smooth' }); // Возвращаем пользователя наверх
        };
        resultDiv.appendChild(closeBtn);
        // --------------------------------------
                // Сохраняем все введенные данные в память
        saveRouteMemory();
    } // <-- Это самая последняя скобка функции calculateRoute

    }

    // Простой поиск пути (BFS)
    function simpleBFS(start, end) {
        let queue = [[start, [start]]];
        let visited = new Set([start]);
        while (queue.length > 0) {
            const [curr, p] = queue.shift();
            if (curr === end) return p;
            
            const neighbors = adjacency[curr] || [];
            for (let n of neighbors) {
                if (!visited.has(n)) {
                    visited.add(n);
                    queue.push([n, [...p, n]]);
                }
            }
        }
        return null;
    }

    // Генератор перестановок (для перебора порядка точек)
    function permutator(inputArr) {
        let result = [];
        const permute = (arr, m = []) => {
            if (arr.length === 0) {
                result.push(m);
            } else {
                for (let i = 0; i < arr.length; i++) {
                    let curr = arr.slice();
                    let next = curr.splice(i, 1);
                    permute(curr.slice(), m.concat(next));
                }
            }
        }
        permute(inputArr);
        return result;
    }

    function renderPathVisuals(pathIds, container) {
        pathIds.forEach((nodeId, index) => {
            const label = idToLabel[nodeId];
            const nextNodeId = pathIds[index + 1];
            const nextLabel = nextNodeId ? idToLabel[nextNodeId] : null;
            const stepDiv = document.createElement("div");
            stepDiv.className = "step-container";
            const title = document.createElement("div");
            title.className = "step-title";
            title.innerText = `Степь ${label}`;
            stepDiv.appendChild(title);
            const gridDiv = document.createElement("div");
            gridDiv.className = "steppe-grid";
            const cells = visualData[label] || Array(60).fill({ type: 'empty' });
            cells.forEach(cellData => {
                const cell = document.createElement("div");
                cell.className = "cell";
                if (cellData.type === 'exit') {
                    cell.classList.add("exit");
                    cell.title = `Переход в ${cellData.target}`;
                    if (nextLabel && cellData.target === nextLabel) {
                        cell.classList.add("active-path");
                    }
                }
                gridDiv.appendChild(cell);
            });
            stepDiv.appendChild(gridDiv);
            container.appendChild(stepDiv);/*
            if (index < pathIds.length - 1) {
                const arrow = document.createElement("div");
                arrow.className = "arrow-down";
                arrow.innerHTML = "⬇";
                container.appendChild(arrow);
            }*/
        });
    }
    function swapInputs() {
        const s = document.getElementById("startNode");
        const e = document.getElementById("endNode");
        [s.value, e.value] = [e.value, s.value];
    }
    function copyRoute() {
        navigator.clipboard.writeText(currentPathText);
        alert("Маршрут скопирован!");
    }
    function saveAsImage() {
        const element = document.getElementById("result");
        
        // 1. Включаем режим сетки (для компактности)
        element.classList.add("export-mode");

        // 2. Делаем снимок
        html2canvas(element, { 
            backgroundColor: "#0f172a",
            scale: 2 // Улучшаем качество картинки
        }).then(canvas => {
            // 3. Возвращаем обычный вид (одна колонка)
            element.classList.remove("export-mode");

            // 4. Скачиваем
            const link = document.createElement("a");
            link.download = "route_steppes.png";
            link.href = canvas.toDataURL();
            link.click();
        });
    }
        // --- ЛОГИКА РИСОВАЛКИ ---
    let drawnCells = new Set();
    let currentMatchedSteppe = null;

    function initDrawerGrid() {
        const grid = document.getElementById('drawerGrid');
        for (let i = 0; i < 60; i++) {
            const cell = document.createElement('div');
            cell.className = 'drawer-cell';
            cell.onclick = () => {
                cell.classList.toggle('active');
                if (cell.classList.contains('active')) {
                    drawnCells.add(i);
                } else {
                    drawnCells.delete(i);
                }
                checkDrawnSteppe();
            };
            grid.appendChild(cell);
        }
    }
        // Функция сброса нарисованной степи
    function resetDrawer() {
        drawnCells.clear(); // Очищаем память от нажатых клеток
        const cells = document.querySelectorAll('#drawerGrid .drawer-cell');
        cells.forEach(cell => cell.classList.remove('active')); // Убираем черный цвет со всех клеток
        checkDrawnSteppe(); // Обновляем текст (вернется надпись "Отметьте переходы...")
    }


        function checkDrawnSteppe() {
        const resultDiv = document.getElementById('drawerResult');
        const btns = document.querySelectorAll('.drawer-btn');
        const promptDiv = document.getElementById('autocompletePrompt');
        currentMatchedSteppe = null;

        // Если ничего не нарисовано
        if (drawnCells.size === 0) {
            resultDiv.innerText = "Отметьте переходы...";
            resultDiv.style.color = "#4ACA86";
            btns.forEach(b => b.style.display = 'none');
            if (promptDiv) promptDiv.style.display = 'none';
            return;
        }

        const drawnArray = Array.from(drawnCells);
        let matchFound = false;

        // --- ВОТ ЭТОТ КУСОК ТЫ ПОТЕРЯЛ (Он отвечает за готовые степи) ---
        for (let num in visualData) {
            const steppeData = visualData[num];
            const exitIndices = [];
            
            steppeData.forEach((cell, idx) => {
                if (cell.type === 'exit') exitIndices.push(idx);
            });

            if (drawnArray.length === exitIndices.length && drawnArray.every(val => exitIndices.includes(val))) {
                currentMatchedSteppe = num;
                resultDiv.innerText = `Это степь ${num}`;
                resultDiv.style.color = "#4ACA86";
                btns.forEach(b => b.style.display = 'block'); // Показываем кнопки "Сделать начальной" и тд
                matchFound = true;
                break;
            }
        }

        if (!matchFound) {
            resultDiv.innerText = "Степь не распознана";
            resultDiv.style.color = "#f87171";
            btns.forEach(b => b.style.display = 'none');
        }
        // -------------------------------------------------------------

        // --- АВТОДОПОЛНЕНИЕ СТЕПИ (Твоя новая часть) ---
        if (promptDiv) {
            // Если степь уже угадана полностью или точек меньше двух - прячем подсказку
            if (matchFound || drawnArray.length < 2) {
                promptDiv.style.display = 'none';
            } else {
                let possibleMatches = [];
                
                // Перебираем все степи в базе
                for (let num in visualData) {
                    const steppeData = visualData[num];
                    const exitIndices = [];
                    
                    steppeData.forEach((cell, idx) => {
                        if (cell.type === 'exit') exitIndices.push(idx);
                    });
                    
                    const allDrawnAreExits = drawnArray.every(cellIdx => exitIndices.includes(cellIdx));
                    if (allDrawnAreExits) {
                        possibleMatches.push({ num: num, exits: exitIndices });
                    }
                }
                
                // Если нашлась ровно 1 подходящая степь
                if (possibleMatches.length === 1 && possibleMatches[0].exits.length > drawnArray.length) {
                    const matchNum = possibleMatches[0].num;
                    promptDiv.style.display = 'block';
                    promptDiv.innerHTML = `Возможно, это степь ${matchNum}? <button class="inline-show-btn" style="margin-left: 10px; padding: 4px 10px;" onclick="autocompleteSteppe('${matchNum}')">Дорисовать за меня</button>`;
                } else {
                    promptDiv.style.display = 'none';
                }
            }
        }
    }

    // Функция автодополнения сетки (она у тебя правильная, оставляем как есть)
    function autocompleteSteppe(num) {
        resetDrawer(); 
        
        const steppeData = visualData[num];
        const cells = document.querySelectorAll('#drawerGrid .drawer-cell');
        
        steppeData.forEach((cellData, index) => {
            if (cellData.type === 'exit') {
                drawnCells.add(index);
                cells[index].classList.add('active');
            }
        });
        
        checkDrawnSteppe(); 
    }

    

    function setDrawerTarget(type) {
        if (!currentMatchedSteppe) return;
        
        if (type === 'start') {
            document.getElementById('startNode').value = currentMatchedSteppe;
        } else if (type === 'end') {
            document.getElementById('endNode').value = currentMatchedSteppe;
        } else if (type === 'waypoint') {
            addWaypoint(); // Эта функция у нас уже есть выше
            const wpInputs = document.querySelectorAll(".waypoint-input");
            if(wpInputs.length > 0) {
                wpInputs[wpInputs.length - 1].value = currentMatchedSteppe;
            }
        }
        
        // Плавно прокручиваем страницу наверх к маршрутизатору
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    // --- ЛОГИКА ЧЕКБОКСА "ДВА РЯДА" ---
    function toggleTwoColumns() {
        const isChecked = document.getElementById("twoColsCheckbox").checked;
        const resultDiv = document.getElementById("result");
        
        if (isChecked) {
            resultDiv.classList.add("two-columns");
            localStorage.setItem("twoColumnsPref", "true"); // Сохраняем в память
        } else {
            resultDiv.classList.remove("two-columns");
            localStorage.setItem("twoColumnsPref", "false"); // Удаляем из памяти
        }
    }

    // Проверяем память при загрузке страницы
    window.addEventListener('DOMContentLoaded', () => {
        const savedPref = localStorage.getItem("twoColumnsPref");
        if (savedPref === "true") {
            document.getElementById("twoColsCheckbox").checked = true;
            document.getElementById("result").classList.add("two-columns");
        }
    });

        // --- ЛОГИКА ВКЛАДОК И ПРОСМОТРА ---
    function openTab(tab) {
        const drawCont = document.getElementById('drawerContainer');
        const viewCont = document.getElementById('viewerContainer');
        const btnDraw = document.getElementById('btnDraw');
        const btnView = document.getElementById('btnView');

        if (tab === 'draw') {
            if (drawCont.style.display === 'flex') {
                drawCont.style.display = 'none';
                btnDraw.style.background = '#1e293b';
            } else {
                drawCont.style.display = 'flex';
                viewCont.style.display = 'none';
                btnDraw.style.background = '#334155';
                btnView.style.background = '#1e293b';
                if (document.getElementById('drawerGrid').children.length === 0) initDrawerGrid();
            }
        } else {
            if (viewCont.style.display === 'flex') {
                viewCont.style.display = 'none';
                btnView.style.background = '#1e293b';
            } else {
                viewCont.style.display = 'flex';
                drawCont.style.display = 'none';
                btnView.style.background = '#334155';
                btnDraw.style.background = '#1e293b';
            }
        }
    }

        // Вызов показа степи из поля (по ID)
    function openViewerWithId(inputId) {
        const val = document.getElementById(inputId).value.trim();
        openTab('view');
        const viewCont = document.getElementById('viewerContainer');
        viewCont.style.display = 'flex'; // Принудительно открываем
        if (val) {
            document.getElementById('viewerInput').value = val;
            renderViewer(val);
        }
        // Плавная прокрутка экрана к открывшемуся блоку
        viewCont.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // Вызов показа степи из промежуточной точки (по элементу кнопки)
    function openViewerWithElement(btnElement) {
        const val = btnElement.previousElementSibling.value.trim();
        openTab('view');
        const viewCont = document.getElementById('viewerContainer');
        viewCont.style.display = 'flex';
        if (val) {
            document.getElementById('viewerInput').value = val;
            renderViewer(val);
        }
        // Плавная прокрутка экрана к открывшемуся блоку
        viewCont.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }


    // Отрисовка степи в режиме просмотра
    function renderViewer(forceNum = null) {
        const num = forceNum || document.getElementById('viewerInput').value.trim();
        const grid = document.getElementById('viewerGrid');
        const result = document.getElementById('viewerResult');
        
        grid.innerHTML = '';
        grid.style.display = 'none';

        if (!num || !visualData[num]) {
            result.innerText = "Такой степи не существует";
            result.style.color = "#f87171";
            return;
        }

        result.innerText = `Степь ${num}`;
        result.style.color = "#4ACA86";
        grid.style.display = 'grid';

        // Рисуем сетку на основе данных
        visualData[num].forEach(cellData => {
            const cell = document.createElement('div');
            cell.className = 'drawer-cell'; // Используем те же стили ячеек
            if (cellData.type === 'exit') {
                cell.classList.add('active'); // Делаем черной
            }
            grid.appendChild(cell);
        });
    }

    // --- ЛОГИКА СТРЕЛОЧЕК ПРОКРУТКИ ---
    window.addEventListener('scroll', () => {
        const upBtn = document.getElementById('scrollUpBtn');
        const downBtn = document.getElementById('scrollDownBtn');
        
        // Показывать стрелку вверх, если прокрутили чуть вниз
        if (window.scrollY > 200) {
            upBtn.style.display = 'flex';
        } else {
            upBtn.style.display = 'none';
        }

        // Прятать стрелку вниз, если докрутили до самого конца
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 50) {
            downBtn.style.display = 'none';
        } else {
            downBtn.style.display = 'flex';
        }
    });

/*
    function runDiagnostics() {
        const resultDiv = document.getElementById("result");
        resultDiv.classList.remove("export-mode"); // Выключаем табличный вид, если был
        resultDiv.innerHTML = "<h3>🔍 Результат диагностики:</h3>";
        
        let errorCount = 0;

        // Проходим по всем известным степям
        for (let label in labelToId) {
            let id = labelToId[label];

            // 1. Собираем, куда ведут связи из XML (реальные пути)
            let xmlTargets = new Set();
            if (adjacency[id]) {
                adjacency[id].forEach(targetId => {
                    xmlTargets.add(idToLabel[targetId]);
                });
            }

            // 2. Собираем, что нарисовано (визуальные пути)
            let visualTargets = new Set();
            if (visualData[label]) {
                visualData[label].forEach(cell => {
                    if (cell.type === 'exit') visualTargets.add(cell.target);
                });
            }

            // 3. Ищем лишние связи (Призраки)
            xmlTargets.forEach(t => {
                if (!visualTargets.has(t)) {
                    resultDiv.innerHTML += `<div style="color: #facc15; margin-bottom: 5px;">
                        👻 <b>Степь ${label}:</b> В коде есть путь в <b>${t}</b>, а на картинке нет!
                    </div>`;
                    errorCount++;
                }
            });

            // 4. Ищем забытые связи (Обрывы)
            visualTargets.forEach(t => {
                if (!xmlTargets.has(t)) {
                    resultDiv.innerHTML += `<div style="color: #f87171; margin-bottom: 5px;">
                        💔 <b>Степь ${label}:</b> Нарисован выход в <b>${t}</b>, но он НЕ РАБОТАЕТ (нет в XML).
                    </div>`;
                    errorCount++;
                }
            });
        }

        if (errorCount === 0) {
            resultDiv.innerHTML += `<div style="color: #4ade80;">✅ Ошибок не найдено! Граф идеален.</div>`;
        }
    }
*/
        // === ИНТЕГРАЦИЯ С ИГРОЙ (АВТООБНОВЛЕНИЕ И ПАМЯТЬ) ===
    
    // 1. Слушаем сообщения от игры (Tampermonkey)
    window.addEventListener('message', function(event) {
        if (event.data && event.data.action === 'updateStart') {
            const startInput = document.getElementById('startNode');
            if (startInput) {
                // Если мы перешли в новую степь
                if (startInput.value !== event.data.steppe) {
                    startInput.value = event.data.steppe;
                    
                    // МАГИЯ: Если конечная степь уже указана, маршрут перестроится САМ на ходу!
                    const endInput = document.getElementById('endNode');
                    if (endInput && endInput.value.trim() !== '') {
                        calculateRoute();
                    }
                }
            }
        }
    });

    // 2. Сохраняем конечную степь при обновлении страницы
        // 2. ПОЛНОЕ СОХРАНЕНИЕ И ВОССТАНОВЛЕНИЕ МАРШРУТА
    function saveRouteMemory() {
        const start = document.getElementById('startNode').value;
        const end = document.getElementById('endNode').value;
        const wps = Array.from(document.querySelectorAll('.waypoint-input')).map(inp => inp.value);
        localStorage.setItem('cwFullRoute', JSON.stringify({start, end, wps}));
    }

    window.addEventListener('DOMContentLoaded', () => {
        const savedData = localStorage.getItem('cwFullRoute');
        if (savedData) {
            try {
                const data = JSON.parse(savedData);
                
                // Восстанавливаем старт и финиш
                if (data.start) document.getElementById('startNode').value = data.start;
                if (data.end) document.getElementById('endNode').value = data.end;
                
                // Восстанавливаем промежуточные точки
                if (data.wps && data.wps.length > 0) {
                    const container = document.getElementById("waypointsContainer");
                    container.innerHTML = ""; // Очищаем на всякий случай
                    data.wps.forEach(val => {
                        if (val.trim() !== '') {
                            addWaypoint();
                            const inputs = document.querySelectorAll('.waypoint-input');
                            inputs[inputs.length - 1].value = val;
                        }
                    });
                }
                
                // Если есть и старт, и финиш, даем команду построить маршрут автоматически!
                if (data.start && data.end) {
                    // Задержка 300мс нужна, чтобы база степей успела подгрузиться до расчета
                    setTimeout(calculateRoute, 300); 
                }
            } catch(e) {
                console.error("Ошибка чтения памяти маршрута", e);
            }
        }
    });


    // Запуск
    parseGraph();
    parseVisuals();
</script>
<div class="floating-arrows">
    <button id="scrollUpBtn" class="scroll-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" style="display:none;"><i class="fi fi-rr-angle-small-up"></i></button>
    <button id="scrollDownBtn" class="scroll-btn" onclick="window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'})"><i class="fi fi-rr-angle-small-down"></i></button>
</div>

</body>
</html>

